{"version":3,"sources":["redux/types.js","redux/reducers/user.js","redux/reducers/session.js","redux/reducers/events.js","redux/reducers/loader.js","redux/reducers/errors.js","redux/reducers/index.js","redux/store.js","utils/axios.js","redux/actions/auth.js","components/Navbar.jsx","components/Layout.jsx","redux/actions/errors.js","components/ErrorList.jsx","redux/actions/session.js","components/home/JoinForm.jsx","redux/validation/session.js","components/home/HostForm.jsx","routes/Home.jsx","routes/SignUp.jsx","redux/validation/user.js","routes/SignIn.jsx","routes/Index.jsx","redux/actions/event.js","components/schedule/EventPostForm.jsx","redux/validation/event.js","components/schedule/EventUpdateForm.jsx","components/schedule/Calendar.jsx","routes/Schedule.jsx","redux/actions/socket.js","components/room/Chat.jsx","components/room/HostPanel.jsx","components/room/ParticipantPanel.jsx","components/room/RoomInfo.jsx","components/room/Calendar.jsx","routes/Room.jsx","index.jsx","App.jsx"],"names":["GET_ERRORS","CLEAR_ERRORS","SET_LOADER","CLEAR_LOADER","initialState","id","username","session","messages","timeslots","participants","votes","code","endtime","location","starttime","title","votingend","votingtime","duration","hostId","weekends","combineReducers","user","state","action","type","toast","success","className","token","payload","localStorage","setItem","concat","timer","clearInterval","timeslot","push","events","filter","event","Number","loader","obj","errors","connection","data","createStore","rootReducer","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","baseURL","axiosInstance","axios","create","authenticate","dispatch","defaults","headers","common","authorization","getItem","get","then","res","catch","err","response","finally","activeStyle","background","connect","signOut","removeItem","props","history","useHistory","loggedIn","Menu","position","Header","as","content","color","style","margin","to","Item","Icon","name","onClick","size","link","loggedOut","icon","Layout","redirect","handleNotFound","bind","handleNotLoggedIn","this","unlisten","listen","clearErrors","protected","setState","error","pathname","children","height","marginLeft","marginRight","Dimmer","inverted","active","Loader","inline","Component","withRouter","ErrorList","Object","keys","length","Message","header","list","values","map","key","getSessionEvents","parseDate","date","split","time","day","month","year","Date","JoinFormComponent","handleChange","handleJoin","target","value","joinSession","Input","fluid","iconPosition","placeholder","onChange","Boolean","Button","loading","JOIN_SESSION","React","validated","validateJoinSession","post","HostFormComponent","handleHost","handleTimeChange","hostSession","closable","autoComplete","hideMobileKeyboard","popupPosition","Checkbox","label","checked","HOST_SESSION","parse","validateHostSession","Home","join","host","handleReset","selection","Group","Or","text","back","currentState","AUTH","Grid","centered","verticalAlign","columns","relaxed","stackable","Column","SignUpComponent","password","password2","handleSubmit","signUp","marginTop","textAlign","Segment","Form","primary","SIGN_UP","warning","href","validateSignUp","SignInComponent","signIn","SIGN_IN","validateSignIn","Index","EventPostForm","handleSave","toDateString","postEvent","closeModal","block","toUTCString","POST_EVENT","validateEvent","EventUpdateForm","handleUpdate","handleDelete","end","start","updateEvent","deleteEvent","extendedProps","PUT_EVENT","DELETE_EVENT","validateUpdateEvent","put","delete","TimetableEdit","modalNew","modalEdit","selectedDate","selectedEvent","handleDateClick","handleEventClick","handleCloseModal","getEvents","arg","dateStr","e","defaultView","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","dateClick","eventClick","Modal","open","onClose","Content","Schedule","GET_EVENTS","Calendar","ioClose","socket","emit","Chat","message","ioMsg","Comment","dividing","i","Avatar","src","Author","Metadata","Text","reply","ioStart","closeSession","a","info","START_SESSION","CLEAR_SESSION","ParticipantPanel","Session","List","divided","Description","String","colors","Timetable","ioVote","warn","room","setMinutes","getMinutes","Set","userid","reduce","acc","set","Map","backgroundColor","borderColor","RoomComponent","io","on","ioOnMsg","ioOnJoin","ioOnLeave","ioOnStart","ioOnVote","ioOnError","ioOnClose","ioOnEnter","panel","match","params","getSession","status","GET_SESSION","width","GridColumn","JSON","setHours","getHours","now","seconds","Math","ceil","abs","getTime","setInterval","rootElement","document","getElementById","ReactDOM","render","store","configure","toastClassName","hideProgressBar","draggable","newestOnTop","autoClose","path","component","Room","SignUp","SignIn"],"mappings":"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","file":"static/js/main.3b34863d.chunk.js","sourcesContent":["export const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_UP = 'SIGN_UP';\r\nexport const AUTH = 'AUTH';\r\nexport const CLEAR_USER = 'CLEAR_USER'\r\n\r\nexport const JOIN_SESSION = 'JOIN_SESSION';\r\nexport const HOST_SESSION = 'HOST_SESSION';\r\nexport const GET_SESSION = 'GET_SESSION';\r\nexport const GET_SESSION_EVENTS = 'GET_SESSION_EVENTS';\r\nexport const START_SESSION = 'START_SESSION';\r\nexport const CLEAR_SESSION = 'CLEAR_SESSION';\r\n\r\nexport const GET_EVENTS = 'GET_EVENTS';\r\nexport const GET_EVENT = 'GET_EVENT';\r\nexport const POST_EVENT = 'POST_EVENT';\r\nexport const PUT_EVENT = 'PUT_EVENT';\r\nexport const DELETE_EVENT = 'DELETE_EVENT';\r\nexport const CLEAR_EVENTS = 'CLEAR_USER';\r\n\r\nexport const GET_ERRORS = 'GET_ERRORS';\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\n\r\nexport const SET_LOADER = 'SET_LOADER';\r\nexport const CLEAR_LOADER = 'CLEAR_LOADER';\r\n\r\n// Websocket stuff\r\nexport const ADD_VOTE = 'ADD_VOTE';\r\nexport const ADD_MESSAGE = 'ADD_MESSAGE';\r\nexport const SET_TIMESLOTS = 'SET_TIMESLOTS';\r\nexport const SET_VOTES = 'SET_VOTES';\r\nexport const SET_TIMER = 'SET_TIMER';\r\nexport const DECREMENT_TIMER = 'DECREMENT_TIMER';\r\n","import { SIGN_IN, SIGN_UP, AUTH, JOIN_SESSION, HOST_SESSION, GET_SESSION, CLEAR_USER } from '../types';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst initialState = {\r\n  id: 0,\r\n  username: '',\r\n  session: {},\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SIGN_IN: {\r\n      toast.success('Signed in successfully', { className: \"ui success message\" });\r\n\r\n      const { token } = action.payload;\r\n\r\n      localStorage.setItem('jwt', token);\r\n\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    case SIGN_UP: {\r\n      toast.success('Signed up successfully', { className: \"ui success message\"});\r\n\r\n      return {\r\n        ...state\r\n      };\r\n    }\r\n    case GET_SESSION: {\r\n      return {\r\n        ...state,\r\n        session: action.payload,\r\n      };\r\n    }\r\n    case JOIN_SESSION: {\r\n      return {\r\n        ...state,\r\n        session: action.payload,\r\n      };\r\n    }\r\n    case HOST_SESSION: {\r\n      return {\r\n        ...state,\r\n        session: action.payload,\r\n      };\r\n    }\r\n    case AUTH: {\r\n      const { username, id } = action.payload;\r\n\r\n      return {\r\n        ...state,\r\n        username,\r\n        id,\r\n      };\r\n    }\r\n    case CLEAR_USER: {\r\n      return initialState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { JOIN_SESSION, HOST_SESSION, GET_SESSION, ADD_MESSAGE, SET_TIMER, DECREMENT_TIMER, SET_TIMESLOTS, SET_VOTES, ADD_VOTE, CLEAR_SESSION } from '../types';\r\n\r\nconst initialState = {\r\n  messages: [],\r\n  timeslots: [],\r\n  participants: [],\r\n  votes: {},\r\n  code: '',\r\n  endtime: '',\r\n  location: '',\r\n  starttime: '',\r\n  title: '',\r\n  votingend: '',\r\n  votingtime: 0,\r\n  duration: 0,\r\n  hostId: 0,\r\n  id: 0,\r\n  weekends: false,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case JOIN_SESSION: {\r\n      const { payload } = action;\r\n\r\n      return { ...state, ...payload };\r\n    }\r\n    case HOST_SESSION: {\r\n      const { payload } = action;\r\n\r\n      return { ...state, ...payload };\r\n    }\r\n    case GET_SESSION: {\r\n      const { payload } = action;\r\n\r\n      return { ...state, ...payload };\r\n    }\r\n    case CLEAR_SESSION: {\r\n      return initialState;\r\n    }\r\n    case ADD_MESSAGE: {\r\n      const { payload } = action;\r\n\r\n      return { ...state, messages: state.messages.concat(payload) };\r\n    }\r\n    case SET_TIMER: {\r\n      const { payload } = action;\r\n\r\n      return { ...state, timer: payload };\r\n    }\r\n    case DECREMENT_TIMER: {\r\n      const { payload } = action;\r\n\r\n      if (state.timer <= 0) {\r\n        clearInterval(payload);\r\n        return { ...state, timer: null };\r\n      }\r\n\r\n      return { ...state, timer: state.timer - 1 };\r\n    }\r\n    case SET_TIMESLOTS: {\r\n      const { payload } = action;\r\n\r\n      return { ...state, timeslots: payload };\r\n    }\r\n    case SET_VOTES: {\r\n      const { payload } = action;\r\n\r\n      return { ...state, votes: payload };\r\n    }\r\n    case ADD_VOTE: {\r\n      const { payload: { timeslot, username } } = action;\r\n      const votes = state.votes\r\n      if (votes[timeslot]) votes[timeslot].push(username)\r\n      else votes[timeslot] = [username]\r\n\r\n      return { ...state, votes }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { toast } from 'react-toastify';\r\nimport { GET_EVENT, GET_EVENTS, POST_EVENT, PUT_EVENT, DELETE_EVENT, GET_SESSION_EVENTS, CLEAR_EVENTS } from '../types';\r\n\r\nconst initialState = [];\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_EVENT: {\r\n      const { payload } = action;\r\n\r\n      return state.concat(payload);\r\n    }\r\n    case GET_EVENTS: {\r\n      const { events } = action.payload;\r\n\r\n      return events;\r\n    }\r\n    case POST_EVENT: {\r\n      toast.success(\"Event created\", { className: \"ui success message\" })\r\n      \r\n      const { payload } = action;\r\n\r\n      return state.concat(payload);\r\n    }\r\n    case PUT_EVENT: {\r\n      toast.success(\"Event updated\", { className: \"ui success message\" })\r\n\r\n      const { payload } = action;\r\n\r\n      return state.filter((event) => event.id !== payload.id).concat(payload);\r\n    }\r\n    case DELETE_EVENT: {\r\n      toast.success(\"Event deleted\", { className: \"ui error message\" })\r\n\r\n      const { id } = action.payload;\r\n\r\n      return state.filter((event) => event.id !== Number(id));\r\n    }\r\n    case GET_SESSION_EVENTS: {\r\n      const { payload } = action;\r\n\r\n      return payload.events;\r\n    }\r\n    case CLEAR_EVENTS: {\r\n      return initialState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { SET_LOADER, CLEAR_LOADER } from '../types';\r\n\r\nconst initialState = { };\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_LOADER: {\r\n      const { payload } = action;\r\n      const obj = { ...state };\r\n      obj[payload] = true;\r\n      return obj;\r\n    }\r\n    case CLEAR_LOADER: {\r\n      return { };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_ERRORS, CLEAR_ERRORS } from '../types';\r\n\r\nconst initialState = {\r\n\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ERRORS: {\r\n      if (!action.payload) {\r\n        return {\r\n          connection: 'ERR_CONNECTION_REFUSED',\r\n        };\r\n      }\r\n\r\n      const { data, data: { errors } } = action.payload;\r\n\r\n      if (errors) return { ...errors }\r\n\r\n      return { ...data }\r\n    }\r\n    case CLEAR_ERRORS: {\r\n      return { };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport user from './user';\r\nimport session from './session';\r\nimport events from './events';\r\nimport loader from './loader';\r\nimport errors from './errors';\r\n\r\nexport default combineReducers({ user, session, events, loader, errors });\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nexport default createStore(\r\n  rootReducer,\r\n  compose(\r\n    applyMiddleware(thunk),\r\n    // eslint-disable-next-line no-underscore-dangle\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n  ),\r\n);\r\n","import axios from 'axios';\r\n\r\nconst baseURL = \"http://127.0.0.1:8080\";\r\n// const baseURL = \"https://cadcw2-teamg.appspot.com/\";\r\n\r\nconst axiosInstance = axios.create({ baseURL });\r\n\r\nexport { baseURL, axiosInstance as axios };\r\n","/* eslint-disable indent */\r\nimport { axios } from '../../utils/axios';\r\nimport { toast } from 'react-toastify';\r\nimport { SIGN_IN, SIGN_UP, AUTH, GET_ERRORS, SET_LOADER, CLEAR_USER, CLEAR_SESSION, CLEAR_EVENTS, CLEAR_LOADER, CLEAR_ERRORS } from '../types';\r\nimport { validateSignIn, validateSignUp } from '../validation/user';\r\n\r\nconst signIn = (data) => (dispatch) => {\r\n  const { validated, errors } = validateSignIn(data);\r\n\r\n  if (!validated) return dispatch({ type: GET_ERRORS, payload: { data: errors } });\r\n\r\n  dispatch({ type: SET_LOADER, payload: SIGN_IN });\r\n  return axios.post('/auth/login', data)\r\n              .then((res) => dispatch({ type: SIGN_IN, payload: res.data }))\r\n              .then(dispatch({ type: CLEAR_ERRORS }))\r\n              .catch((err) => dispatch({ type: GET_ERRORS, payload: err.response }))\r\n              .finally(() => dispatch({ type: CLEAR_LOADER, payload: SIGN_IN }));\r\n};\r\n\r\nconst signUp = (data) => (dispatch) => {\r\n  const { validated, errors } = validateSignUp(data);\r\n\r\n  if (!validated) return dispatch({ type: GET_ERRORS, payload: { data: errors } });\r\n\r\n  dispatch({ type: SET_LOADER, payload: SIGN_UP });\r\n\r\n  return axios.post('/auth/register', data)\r\n              .then((res) => dispatch({ type: SIGN_UP, payload: res.data }))\r\n              .then(dispatch({ type: CLEAR_ERRORS }))\r\n              .catch((err) => dispatch({ type: GET_ERRORS, payload: err.response }))\r\n              .finally(() => dispatch({ type: CLEAR_LOADER, payload: SIGN_UP }));\r\n};\r\n\r\nconst authenticate = () => (dispatch) => { \r\n  axios.defaults.headers.common.authorization = localStorage.getItem('jwt');\r\n\r\n  dispatch({ type: SET_LOADER, payload: AUTH });\r\n\r\n  return axios.get('/auth/authenticate')\r\n              .then((res) => dispatch({ type: AUTH, payload: res.data }))\r\n              .then(dispatch({ type: CLEAR_ERRORS }))\r\n              .catch((err) => dispatch({ type: GET_ERRORS, payload: err.response }))\r\n              .finally(() => dispatch({ type: CLEAR_LOADER, payload: AUTH }));\r\n};\r\n\r\nconst signOut = () => (dispatch) => {\r\n  localStorage.removeItem('jwt');\r\n\r\n  toast.success('Signed out successfully', { className: \"ui success message\"});\r\n\r\n  dispatch({ type: CLEAR_USER })\r\n  dispatch({ type: CLEAR_SESSION });\r\n  dispatch({ type: CLEAR_EVENTS });\r\n  dispatch({ type: CLEAR_LOADER });\r\n  dispatch({ type: CLEAR_ERRORS });\r\n  \r\n}\r\n\r\nexport { signIn, signUp, signOut, authenticate };\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport { Menu, Icon, Header } from 'semantic-ui-react';\r\nimport { signOut } from '../redux/actions/auth';\r\n\r\nconst activeStyle = { background: \"rgba(0,0,0,.05\" };\r\n\r\nfunction Navbar(props) {\r\n  const token = localStorage.getItem('jwt');\r\n  const history = useHistory();\r\n\r\n  function logout() {\r\n    props.signOut();\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  const loggedIn = (\r\n    <Menu.Menu position=\"right\">\r\n\r\n      <Header as=\"p\" content={props.username} color=\"blue\" className=\"username\" style={{margin: \"auto 1rem\"}} />\r\n\r\n      <NavLink to=\"/home\" activeStyle={activeStyle}>\r\n        <Menu.Item>\r\n          <Icon name=\"home\" />\r\n          Home\r\n        </Menu.Item>\r\n      </NavLink>\r\n\r\n      <NavLink to=\"/schedule\" activeStyle={activeStyle}>\r\n        <Menu.Item>\r\n          <Icon name=\"calendar\" />\r\n          Schedule\r\n        </Menu.Item>\r\n      </NavLink>\r\n\r\n      <Menu.Item onClick={logout}>\r\n        <Icon name=\"sign out\" size=\"large\" link />\r\n        Sign Out\r\n      </Menu.Item>\r\n    </Menu.Menu>\r\n  );\r\n  const loggedOut =\r\n  (\r\n    <Menu.Menu position=\"right\">\r\n\r\n      <NavLink to=\"/sign-up\" activeStyle={activeStyle}>\r\n        <Menu.Item>\r\n          <Icon name=\"signup\" />\r\n          Sign Up\r\n        </Menu.Item>\r\n      </NavLink>\r\n\r\n      <NavLink to=\"/sign-in\" activeStyle={activeStyle}>\r\n        <Menu.Item>\r\n          <Icon name=\"sign-in\" />\r\n          Sign In\r\n        </Menu.Item>\r\n      </NavLink>\r\n\r\n    </Menu.Menu>\r\n  );\r\n\r\n  return (\r\n    <Menu icon=\"labeled\" className=\"navbar\">\r\n      <div style={{margin: \"auto 1rem\"}}>\r\n        <NavLink to=\"/home\">\r\n          <Header as=\"h1\" content=\"Rendezvous\" color=\"blue\" />\r\n        </NavLink>\r\n      </div>\r\n      {token !== null ? loggedIn : loggedOut}\r\n    </Menu>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { username } = state.user;\r\n\r\n  return { username };\r\n};\r\n\r\nexport default connect(mapStateToProps, { signOut })(Navbar);\r\n","import React, { Component } from 'react';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Dimmer, Loader } from 'semantic-ui-react';\r\nimport { toast } from 'react-toastify';\r\nimport { clearErrors } from '../redux/actions/errors';\r\nimport Navbar from './Navbar';\r\n\r\nclass Layout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      token: localStorage.getItem('jwt'),\r\n      redirect: <></>,\r\n    }\r\n    this.handleNotFound = this.handleNotFound.bind(this);\r\n    this.handleNotLoggedIn = this.handleNotLoggedIn.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.unlisten = this.props.history.listen(this.props.clearErrors);\r\n\r\n    if (!this.state.token && this.props.protected) this.setState({ redirect: this.handleNotLoggedIn() })\r\n\r\n  }\r\n  componentWillUpdate({ error }) {\r\n    if (error) this.setState({redirect: this.handleNotFound(error) })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unlisten();\r\n  }\r\n\r\n  handleNotFound(error) {\r\n    toast.error(error, { className: 'ui error message'})\r\n    return <Redirect to={{ pathname: '/home' }} />;\r\n  }\r\n\r\n  handleNotLoggedIn() {\r\n    toast.error('You must be logged in', { className: 'ui error message' })\r\n    return <Redirect to={{ pathname: '/sign-in' }} />\r\n  }\r\n\r\n  render() {\r\n    const { children, loader } = this.props;\r\n\r\n    return (\r\n      <div style={{ height: '100%' }}>\r\n        <Navbar />\r\n        <div style={{height: '100%', marginLeft: '10%', marginRight: '10%' }}>\r\n          <Dimmer inverted active={loader}>\r\n            <Loader inverted size=\"huge\" inline=\"centered\" />\r\n          </Dimmer>\r\n          <br />\r\n          {children}\r\n          {this.state.redirect}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { clearErrors })(withRouter(Layout));\r\n","/* eslint-disable indent */\r\nimport { CLEAR_ERRORS } from '../types';\r\n\r\nconst clearErrors = () => (dispatch) => {\r\n    dispatch({ type: CLEAR_ERRORS });\r\n};\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport { clearErrors };\r\n","import React from 'react';\r\nimport { Message } from 'semantic-ui-react';\r\n\r\nexport default function ErrorList({ data }) {\r\n  return (\r\n    <>\r\n      {Object.keys(data).length > 0 ? (\r\n        <Message\r\n          error\r\n          header=\"Error\"\r\n          list={Object.values(data).map((err) => <li key={err}>{err}</li>)}\r\n        />\r\n      ) : <></>}\r\n    </>\r\n  );\r\n}\r\n","/* eslint-disable indent */\r\nimport { toast } from 'react-toastify';\r\nimport { axios } from '../../utils/axios';\r\nimport { JOIN_SESSION, HOST_SESSION, GET_ERRORS, SET_LOADER, CLEAR_LOADER,\r\n  GET_SESSION, CLEAR_ERRORS, CLEAR_SESSION, GET_SESSION_EVENTS } from '../types';\r\nimport { validateJoinSession, validateHostSession } from '../validation/session';\r\n\r\nconst joinSession = (data) => (dispatch) => {\r\n  const { validated, errors } = validateJoinSession(data);\r\n\r\n  if (!validated) return dispatch({ type: GET_ERRORS, payload: { data: errors } });\r\n\r\n  dispatch({ type: SET_LOADER, payload: JOIN_SESSION });\r\n  return axios.post('/session/join', data)\r\n              .then((res) => dispatch({ type: JOIN_SESSION, payload: res.data }))\r\n              .then(dispatch({ type: CLEAR_ERRORS }))\r\n              .then(toast('Room joined'))\r\n              .catch((err) => dispatch({ type: GET_ERRORS, payload: err.response }))\r\n              .finally(() => dispatch({ type: CLEAR_LOADER, payload: JOIN_SESSION }));\r\n};\r\n\r\nconst hostSession = (data) => (dispatch) => {\r\n    data.starttime = parseDate(data.starttime)\r\n    data.endtime = parseDate(data.endtime)\r\n\r\n    const { validated, errors } = validateHostSession(data);\r\n\r\n    if (!validated) return dispatch({ type: GET_ERRORS, payload: { data: errors } });\r\n\r\n    dispatch({ type: SET_LOADER, payload: HOST_SESSION });\r\n    return axios.post('/session/host', data)\r\n                .then((res) => dispatch({ type: HOST_SESSION, payload: res.data }))\r\n                .then(dispatch({ type: CLEAR_ERRORS }))\r\n                .then(toast('Room created'))\r\n                .catch((err) => dispatch({ type: GET_ERRORS, payload: err.response }))\r\n                .finally(() => dispatch({ type: CLEAR_LOADER, payload: HOST_SESSION }));\r\n};\r\n\r\nconst getSession = (id) => (dispatch) => {\r\n  dispatch({ type: SET_LOADER, payload: GET_SESSION });\r\n  return axios.get(`/session/${id}`)\r\n              .then((res) => dispatch({ type: GET_SESSION, payload: res.data }))\r\n              .then(dispatch({ type: CLEAR_ERRORS }))\r\n              .catch((err) => dispatch({ type: GET_ERRORS, payload: err.response }))\r\n              .finally(() => dispatch({ type: CLEAR_LOADER, payload: GET_SESSION }));\r\n};\r\n\r\n\r\nconst getSessionEvents = (id) => (dispatch) => {\r\n  dispatch({ type: SET_LOADER, payload: GET_SESSION_EVENTS });\r\n  return axios.get(`/session/${id}/events`)\r\n              .then((res) => dispatch({ type: GET_SESSION_EVENTS, payload: res.data }))\r\n              .then(dispatch({ type: CLEAR_ERRORS }))\r\n              .catch((err) => dispatch({ type: GET_ERRORS, payload: err.response }))\r\n              .finally(() => dispatch({ type: CLEAR_LOADER, payload: GET_SESSION_EVENTS }));\r\n};\r\n\r\nconst closeSession = (id) => (dispatch) => {\r\n  dispatch({ type: SET_LOADER, payload: CLEAR_SESSION });\r\n  return axios.delete(`/session/${id}`)\r\n              .then((res) => dispatch({ type: CLEAR_SESSION, payload: res.data }))\r\n              .then(dispatch({ type: CLEAR_ERRORS }))\r\n              .catch((err) => dispatch({ type: GET_ERRORS, payload: err.response }))\r\n              .finally(() => dispatch({ type: CLEAR_LOADER, payload: CLEAR_SESSION }));\r\n};\r\n\r\nconst parseDate = (data) => {\r\n\r\n  data = data.split(' ');\r\n\r\n  const date = data[0].split('-');\r\n  const time = data[1];\r\n\r\n  const day = date[0];\r\n  const month = date[1];\r\n  const year = date[2];\r\n\r\n  return new Date(`${year}-${month}-${day}T${time}:00`)\r\n  \r\n}\r\n\r\nexport { joinSession, hostSession, getSession, getSessionEvents, closeSession };\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Button, Input } from 'semantic-ui-react';\r\nimport ErrorList from '../ErrorList';\r\nimport { joinSession } from '../../redux/actions/session';\r\n\r\nclass JoinFormComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      code: '',\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleJoin = this.handleJoin.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n\r\n  async handleJoin() {\r\n    // TODO Check if the input can be converted to number in the first place\r\n    const { payload: { id } } = await this.props.joinSession({ code: this.state.code });\r\n\r\n    if (id) this.props.history.push(`/rooms/${id}`);\r\n  }\r\n\r\n  render() {\r\n    const { code } = this.state;\r\n    const { loader, errors } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <Input\r\n          fluid\r\n          name=\"code\"\r\n          iconPosition=\"left\"\r\n          icon=\"hashtag\"\r\n          placeholder=\"Enter code\"\r\n          type=\"text\"\r\n          onChange={this.handleChange}\r\n          value={code}\r\n          error={Boolean(errors.code)}\r\n        />\r\n        <br />\r\n        <Button\r\n          onClick={this.handleJoin}\r\n          fluid\r\n          loading={loader.JOIN_SESSION}\r\n          color=\"blue\"\r\n        >\r\n          Join\r\n        </Button>\r\n        <ErrorList data={errors} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction JoinForm(props) {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <JoinFormComponent {...props} history={history} />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { loader, errors } = state;\r\n  return { loader, errors };\r\n};\r\n\r\nexport default connect(mapStateToProps, { joinSession })(JoinForm);\r\n","function validateJoinSession(data) {\r\n  const { code } = data;\r\n\r\n  const errors = {};\r\n\r\n  if (code.length === 0) errors.code = 'Code cannot be empty';\r\n\r\n  return { errors, validated: Object.values(errors).length === 0 };\r\n}\r\n\r\nfunction validateHostSession(data) {\r\n  const { title, location, starttime, endtime, votingtime, weekends } = data;\r\n\r\n  const errors = {};\r\n\r\n  if (title.length === 0) errors.title = 'Title cannot be empty';\r\n  if (location.length === 0) errors.location = 'Location cannot be empty';\r\n  if (starttime.length === 0) errors.starttime = 'Start time password cannot be empty';\r\n  if (endtime.length === 0) errors.endtime = 'End time cannot be empty';\r\n  if (votingtime.length === 0) errors.votingtime = 'Voting time cannot be empty';\r\n  if (Date.parse(starttime) > Date.parse(endtime)) errors.endtime = 'End cannot occur before start';\r\n  if (typeof weekends !== 'boolean') errors.weekends = 'Weekends must be a boolean';\r\n\r\n  return { errors, validated: Object.values(errors).length === 0 };\r\n}\r\n\r\nexport { validateJoinSession, validateHostSession };\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Input, Button, Checkbox } from 'semantic-ui-react';\r\nimport { DateTimeInput } from 'semantic-ui-calendar-react';\r\nimport { hostSession } from '../../redux/actions/session';\r\nimport ErrorList from '../ErrorList';\r\n\r\nclass HostFormComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: '',\r\n      location: '',\r\n      starttime: '',\r\n      endtime: '',\r\n      votingtime: '',\r\n      duration: '',\r\n      weekends: false,\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleHost = this.handleHost.bind(this);\r\n    this.handleTimeChange = this.handleTimeChange.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n\r\n  handleTimeChange(event, { name, value }) {\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  async handleHost() {\r\n    const { payload: { id } } = await this.props.hostSession({ ...this.state });\r\n    if (id) this.props.history.push(`/rooms/${id}`);\r\n  }\r\n\r\n  render() {\r\n    const { title, location, starttime, endtime, duration, votingtime, weekends } = this.state;\r\n    const { loader, errors } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <Input\r\n          name=\"title\"\r\n          iconPosition=\"left\"\r\n          icon=\"calendar outline\"\r\n          placeholder=\"Enter title\"\r\n          type=\"text\"\r\n          fluid\r\n          onChange={this.handleChange}\r\n          value={title}\r\n          error={Boolean(errors.title)}\r\n        />\r\n        <br />\r\n        <Input\r\n          name=\"location\"\r\n          iconPosition=\"left\"\r\n          icon=\"building\"\r\n          placeholder=\"Enter location\"\r\n          type=\"text\"\r\n          fluid\r\n          onChange={this.handleChange}\r\n          value={location}\r\n          error={Boolean(errors.location)}\r\n        />\r\n        <br />\r\n        <DateTimeInput\r\n          fluid\r\n          closable\r\n          autoComplete=\"off\"\r\n          hideMobileKeyboard\r\n          name=\"starttime\"\r\n          iconPosition=\"left\"\r\n          placeholder=\"Enter start time\"\r\n          popupPosition=\"bottom center\"\r\n          type=\"text\"\r\n          onChange={this.handleTimeChange}\r\n          value={starttime}\r\n          error={Boolean(errors.starttime)}\r\n        />\r\n        <br />\r\n        <DateTimeInput\r\n          fluid\r\n          closable\r\n          autoComplete=\"off\"\r\n          hideMobileKeyboard\r\n          name=\"endtime\"\r\n          iconPosition=\"left\"\r\n          placeholder=\"Enter end time\"\r\n          popupPosition=\"bottom center\"\r\n          type=\"text\"\r\n          onChange={this.handleTimeChange}\r\n          value={endtime}\r\n          error={Boolean(errors.endtime)}\r\n        />\r\n        <br />\r\n        <Input\r\n          name=\"duration\"\r\n          iconPosition=\"left\"\r\n          icon=\"hourglass outline\"\r\n          placeholder=\"Enter duration\"\r\n          type=\"number\"\r\n          fluid\r\n          onChange={this.handleChange}\r\n          value={duration}\r\n          error={Boolean(errors.duration)}\r\n        />\r\n        <br />\r\n        <Input\r\n          name=\"votingtime\"\r\n          iconPosition=\"left\"\r\n          icon=\"hourglass outline\"\r\n          placeholder=\"Enter voting time\"\r\n          type=\"number\"\r\n          fluid\r\n          onChange={this.handleChange}\r\n          value={votingtime}\r\n          error={Boolean(errors.votingtime)}\r\n        />\r\n        <br />\r\n        <Checkbox\r\n          label=\"Weekends\"\r\n          onChange={() => this.setState({ weekends: !weekends })}\r\n          checked={weekends}\r\n        />\r\n        <br />\r\n        <br />\r\n        <Button\r\n          onClick={this.handleHost}\r\n          loading={loader.HOST_SESSION}\r\n          fluid\r\n          color=\"blue\"\r\n        >\r\n          Host\r\n        </Button>\r\n        <ErrorList data={errors} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction HostForm(props) {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <HostFormComponent {...props} history={history} />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { loader, errors } = state;\r\n  return { loader, errors };\r\n};\r\n\r\nexport default connect(mapStateToProps, { hostSession })(HostForm);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Grid, Button } from 'semantic-ui-react';\r\nimport Layout from '../components/Layout';\r\nimport { authenticate } from '../redux/actions/auth';\r\nimport JoinForm from '../components/home/JoinForm';\r\nimport HostForm from '../components/home/HostForm';\r\n\r\nclass Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      join: false,\r\n      host: false,\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleReset = this.handleReset.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.user.id) this.props.authenticate();\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n\r\n  handleReset() {\r\n    this.setState({ join: false, host: false });\r\n  }\r\n\r\n  render() {\r\n    const { join, host } = this.state;\r\n    const { loader } = this.props;\r\n\r\n    const selection =\r\n      (\r\n        <>\r\n          <Button.Group size=\"massive\" fluid color=\"blue\">\r\n            <Button onClick={() => this.setState({ host: true })}>Host</Button>\r\n            <Button.Or text=\"OR\" />\r\n            <Button onClick={() => this.setState({ join: true })}>Join</Button>\r\n          </Button.Group>\r\n        </>\r\n      );\r\n\r\n    const back = join || host ? (<><br /><Button fluid onClick={this.handleReset}>Back</Button></>) : null;\r\n    let currentState = selection;\r\n    if (join) currentState = <JoinForm />;\r\n    if (host) currentState = <HostForm />;\r\n\r\n    return (\r\n      <Layout protected loader={loader.AUTH}>\r\n        <Grid centered verticalAlign=\"middle\" columns={2} relaxed=\"very\" stackable style={{ height: '75%' }}>\r\n          <Grid.Column>\r\n            {currentState}\r\n            {back}\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { user, loader } = state;\r\n\r\n  return { user, loader };\r\n};\r\n\r\nexport default connect(mapStateToProps, { authenticate })(Home);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Grid, Button, Form, Segment, Header, Message, Icon } from 'semantic-ui-react';\r\nimport Layout from '../components/Layout';\r\nimport { signUp } from '../redux/actions/auth';\r\nimport ErrorList from '../components/ErrorList';\r\n\r\nclass SignUpComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      password2: '',\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n\r\n  async handleSubmit() {\r\n    const { username, password, password2 } = this.state;\r\n\r\n    const { payload } = await this.props.signUp({ username, password, password2 });\r\n\r\n    if (payload.username) this.props.history.push('/sign-in');\r\n  }\r\n\r\n  render() {\r\n    const { username, password, password2 } = this.state;\r\n    const { loader, errors } = this.props;\r\n\r\n    return (\r\n      <Layout>\r\n        <Grid centered verticalAlign=\"middle\" columns={2} relaxed=\"very\" stackable style={{ marginTop: '7%' }}>\r\n          <Grid.Column>\r\n\r\n            <Header as=\"h1\" textAlign=\"center\">\r\n              Register an Account\r\n            </Header>\r\n\r\n            <Segment textAlign=\"center\">\r\n\r\n              <Form>\r\n                <Form.Input\r\n                  name=\"username\"\r\n                  icon=\"user\"\r\n                  fluid\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Username\"\r\n                  onChange={this.handleChange}\r\n                  value={username}\r\n                  error={Boolean(errors.username)}\r\n                />\r\n                <Form.Input\r\n                  name=\"password\"\r\n                  icon=\"lock\"\r\n                  fluid\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Password\"\r\n                  type=\"password\"\r\n                  onChange={this.handleChange}\r\n                  value={password}\r\n                  error={Boolean(errors.password)}\r\n                />\r\n                <Form.Input\r\n                  name=\"password2\"\r\n                  icon=\"lock\"\r\n                  fluid\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Repeat Password\"\r\n                  type=\"password\"\r\n                  onChange={this.handleChange}\r\n                  value={password2}\r\n                />\r\n                <Button\r\n                  primary\r\n                  fluid\r\n                  loading={loader.SIGN_UP}\r\n                  onClick={this.handleSubmit}\r\n                >\r\n                  Sign Up\r\n                </Button>\r\n              </Form>\r\n\r\n              <ErrorList data={errors} />\r\n\r\n            </Segment>\r\n\r\n            <Message warning>\r\n              <Icon name='help' />\r\n              Already registered?&nbsp;<a href='/sign-in'>Login here</a>&nbsp;\r\n            </Message>\r\n\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nfunction SignUp(props) {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <SignUpComponent {...props} history={history} />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { loader, errors } = state;\r\n  return { loader, errors };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, { signUp })(SignUp);\r\n","function validateSignIn(user) {\r\n  const { username, password } = user;\r\n\r\n  const errors = {};\r\n\r\n  if (username.length === 0) errors.username = 'Username cannot be empty';\r\n  if (password.length === 0) errors.password = 'Password cannot be empty';\r\n\r\n  return { errors, validated: Object.values(errors).length === 0 };\r\n}\r\n\r\nfunction validateSignUp(user) {\r\n  const { username, password, password2 } = user;\r\n\r\n  const errors = {};\r\n\r\n  if (username.length === 0) errors.username = 'Username cannot be empty';\r\n  if (password.length === 0) errors.password = 'Password cannot be empty';\r\n  if (password2.length === 0) errors.password2 = 'Repeated password cannot be empty';\r\n\r\n  return { errors, validated: Object.values(errors).length === 0 };\r\n}\r\n\r\nexport { validateSignUp, validateSignIn };\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Form, Segment, Header, Grid, Message, Icon } from 'semantic-ui-react';\r\nimport { signIn } from '../redux/actions/auth';\r\nimport Layout from '../components/Layout';\r\nimport ErrorList from '../components/ErrorList';\r\n\r\nclass SignInComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n\r\n  async handleSubmit() {\r\n    const { username, password } = this.state;\r\n\r\n    const { payload: { token } } = await this.props.signIn({ username, password });\r\n\r\n    if (token) return this.props.history.push('/home');\r\n\r\n    return this;\r\n  }\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n    const { loader, errors } = this.props;\r\n\r\n    return (\r\n      <Layout>\r\n        <Grid centered verticalAlign=\"middle\" columns={2} relaxed=\"very\" stackable style={{ marginTop: '7%' }}>\r\n          <Grid.Column>\r\n\r\n            <Header as=\"h1\" textAlign=\"center\">\r\n              Login to Account\r\n            </Header>\r\n\r\n            <Segment textAlign=\"center\">\r\n\r\n              <Form>\r\n                <Form.Input\r\n                  name=\"username\"\r\n                  icon=\"user\"\r\n                  fluid\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Username\"\r\n                  type=\"text\"\r\n                  onChange={this.handleChange}\r\n                  value={username}\r\n                  error={Boolean(errors.username)}\r\n                />\r\n                <Form.Input\r\n                  name=\"password\"\r\n                  icon=\"lock\"\r\n                  fluid\r\n                  iconPosition=\"left\"\r\n                  placeholder=\"Password\"\r\n                  type=\"password\"\r\n                  onChange={this.handleChange}\r\n                  value={password}\r\n                  error={Boolean(errors.password)}\r\n                />\r\n                <Button\r\n                  primary\r\n                  fluid\r\n                  onClick={this.handleSubmit}\r\n                  loading={loader.SIGN_IN}\r\n                >\r\n                  Sign In\r\n                </Button>\r\n              </Form>\r\n              \r\n              <ErrorList data={errors} />\r\n            \r\n            </Segment>\r\n          \r\n            <Message warning>\r\n              <Icon name='help' />\r\n              Not yet signed up?&nbsp;<a href='/sign-up'>Register here</a>&nbsp;\r\n            </Message>\r\n\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nfunction SignIn(props) {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <SignInComponent {...props} history={history} />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { user, loader, errors } = state;\r\n  return { user, loader, errors };\r\n};\r\n\r\nexport default connect(mapStateToProps, { signIn })(SignIn);\r\n","import React from 'react';\r\nimport { Header } from 'semantic-ui-react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Layout from '../components/Layout';\r\n\r\nfunction Index() {\r\n  const history = useHistory();\r\n\r\n  if (localStorage.getItem('jwt')) history.push('/home');\r\n\r\n  history.push('/sign-in');\r\n\r\n  return (\r\n    <Layout>\r\n      <Header as=\"h1\" textAlign=\"center\">Welcome to Rendezvous</Header>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Index;\r\n","/* eslint-disable indent */\r\nimport { axios } from '../../utils/axios';\r\nimport { GET_EVENTS, POST_EVENT, PUT_EVENT, DELETE_EVENT, GET_ERRORS, SET_LOADER, CLEAR_LOADER, CLEAR_ERRORS } from '../types';\r\nimport { validateEvent, validateUpdateEvent } from '../validation/event';\r\n\r\nconst getEvents = () => (dispatch) => {\r\n    dispatch({ type: SET_LOADER, payload: GET_EVENTS });\r\n    return axios.get('/events/')\r\n                .then((res) => dispatch({ type: GET_EVENTS, payload: res.data }))\r\n                .then(dispatch({ type: CLEAR_ERRORS }))\r\n                .catch((err) => dispatch({ type: GET_ERRORS, payload: err.response }))\r\n                .finally(() => dispatch({ type: CLEAR_LOADER, payload: GET_EVENTS }));\r\n};\r\n\r\nconst postEvent = (event) => (dispatch) => {\r\n  const { validated, errors } = validateEvent(event);\r\n\r\n  if (!validated) return dispatch({ type: GET_ERRORS, payload: { data: errors } });\r\n\r\n  dispatch({ type: SET_LOADER, payload: POST_EVENT });\r\n  return axios.post('/events/', event)\r\n              .then((res) => dispatch({ type: POST_EVENT, payload: res.data }))\r\n              .then(dispatch({ type: CLEAR_ERRORS }))\r\n              .catch((err) => dispatch({ type: GET_ERRORS, payload: err.response }))\r\n              .finally(() => dispatch({ type: CLEAR_LOADER, payload: POST_EVENT }));\r\n};\r\n\r\nconst updateEvent = (event, id) => (dispatch) => {\r\n    const { validated, errors } = validateUpdateEvent(event);\r\n\r\n    if (!validated) return dispatch({ type: GET_ERRORS, payload: { data: errors } });\r\n\r\n    dispatch({ type: SET_LOADER, payload: PUT_EVENT });\r\n    return axios.put(`/events/${id}`, event)\r\n                .then((res) => dispatch({ type: PUT_EVENT, payload: res.data }))\r\n                .then(dispatch({ type: CLEAR_ERRORS }))\r\n                .catch((err) => dispatch({ type: GET_ERRORS, payload: err.response }))\r\n                .finally(() => dispatch({ type: CLEAR_LOADER, payload: PUT_EVENT }));\r\n};\r\n\r\nconst deleteEvent = (id) => (dispatch) => {\r\n    dispatch({ type: SET_LOADER, payload: DELETE_EVENT });\r\n    return axios.delete(`/events/${id}`)\r\n                .then((res) => dispatch({ type: DELETE_EVENT, payload: res.data }))\r\n                .then(dispatch({ type: CLEAR_ERRORS }))\r\n                .catch((err) => dispatch({ type: GET_ERRORS, payload: err.response }))\r\n                .finally(() => dispatch({ type: CLEAR_LOADER, payload: DELETE_EVENT }));\r\n};\r\n\r\nexport { getEvents, postEvent, updateEvent, deleteEvent };\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Form, Header } from 'semantic-ui-react';\r\nimport { TimeInput } from 'semantic-ui-calendar-react';\r\nimport { postEvent } from '../../redux/actions/event';\r\n\r\nclass EventPostForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: '',\r\n      location: '',\r\n      endtime: '',\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSave = this.handleSave.bind(this);\r\n    this.handleTimeChange = this.handleTimeChange.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n\r\n\r\n  handleTimeChange(event, { name, value }) {\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  async handleSave() {\r\n    const starttime = new Date(this.props.date);\r\n    const endtime = this.state.endtime ? new Date(`${new Date(this.props.date).toDateString()} ${this.state.endtime}`) : '';\r\n    const event = { title: this.state.title, location: this.state.location, starttime, endtime };\r\n\r\n    const { payload: { id } } = await this.props.postEvent(event);\r\n    if (id) this.props.closeModal();\r\n  }\r\n\r\n  render() {\r\n    const { title, location, endtime } = this.state;\r\n    const { date, loader } = this.props;\r\n\r\n    return (\r\n      <Form>\r\n        <Header block textAlign=\"center\">Create Event on {new Date(date).toUTCString()}</Header>\r\n        <Form.Input\r\n          fluid\r\n          name=\"title\"\r\n          iconPosition=\"left\"\r\n          icon=\"calendar outline\"\r\n          placeholder=\"Enter title\"\r\n          type=\"text\"\r\n          onChange={this.handleChange}\r\n          value={title}\r\n        />\r\n        <br />\r\n        <Form.Input\r\n          fluid\r\n          name=\"location\"\r\n          iconPosition=\"left\"\r\n          icon=\"building outline\"\r\n          placeholder=\"Enter location\"\r\n          type=\"text\"\r\n          onChange={this.handleChange}\r\n          value={location}\r\n        />\r\n        <br />\r\n        <TimeInput\r\n          fluid\r\n          closable\r\n          autoComplete=\"off\"\r\n          hideMobileKeyboard\r\n          name=\"endtime\"\r\n          iconPosition=\"left\"\r\n          placeholder=\"Enter end time\"\r\n          type=\"text\"\r\n          onChange={this.handleTimeChange}\r\n          value={endtime}\r\n        />\r\n        <br />\r\n        <Button\r\n          onClick={this.handleSave}\r\n          fluid\r\n          loading={loader.POST_EVENT}\r\n        >\r\n          Save\r\n        </Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { loader } = state;\r\n  return { loader };\r\n};\r\n\r\nexport default connect(mapStateToProps, { postEvent })(EventPostForm);\r\n","function validateEvent(event) {\r\n  const { title, location, starttime, endtime } = event;\r\n\r\n  const errors = {};\r\n\r\n  if (title.length === 0) errors.title = 'Title cannot be empty';\r\n  if (location.length === 0) errors.location = 'Location cannot be empty';\r\n  if (starttime.length === 0) errors.starttime = 'Start time cannot be empty';\r\n  if (endtime.length === 0) errors.endtime = 'End time cannot be empty';\r\n  if (Date.parse(starttime) > Date.parse(endtime)) errors.endtime = 'End cannot occur before start';\r\n\r\n  return { errors, validated: Object.values(errors).length === 0 };\r\n}\r\n\r\nfunction validateUpdateEvent(event) {\r\n  const { title, location, starttime, endtime } = event;\r\n\r\n  const errors = {};\r\n\r\n  if (!title && !location && !endtime) errors.title = 'You have to update atleast one property';\r\n  if (Date.parse(starttime) > Date.parse(endtime)) errors.endtime = 'End cannot occur before start';\r\n\r\n  return { errors, validated: Object.values(errors).length === 0 };\r\n}\r\n\r\n\r\nexport { validateEvent, validateUpdateEvent };\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Form, Header } from 'semantic-ui-react';\r\nimport { TimeInput } from 'semantic-ui-calendar-react';\r\nimport { updateEvent, deleteEvent } from '../../redux/actions/event';\r\n\r\nclass EventUpdateForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: '',\r\n      location: '',\r\n      endtime: '',\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleTimeChange = this.handleTimeChange.bind(this);\r\n    this.handleUpdate = this.handleUpdate.bind(this);\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n\r\n  handleTimeChange(event, { name, value }) {\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  async handleUpdate() {\r\n    const endtime = this.state.endtime ? new Date(`${this.props.event.end.toDateString()} ${this.state.endtime}`) : '';\r\n    const event = { ...this.state, starttime: this.props.event.start, endtime };\r\n    const { payload } = await this.props.updateEvent(event, this.props.event.id);\r\n    const { id } = payload;\r\n    if (id) this.props.closeModal();\r\n  }\r\n\r\n  async handleDelete() {\r\n    const { payload: { id } } = await this.props.deleteEvent(this.props.event.id);\r\n    if (id) this.props.closeModal();\r\n  }\r\n\r\n  render() {\r\n    const { title, location, endtime } = this.state;\r\n    const { event, loader } = this.props;\r\n\r\n    return (\r\n      <Form>\r\n\r\n        <Header textAlign=\"center\">\r\n          Update Event\r\n        </Header>\r\n\r\n        <Form.Input\r\n          fluid\r\n          name=\"title\"\r\n          iconPosition=\"left\"\r\n          icon=\"calendar outline\"\r\n          placeholder={event.title}\r\n          type=\"text\"\r\n          onChange={this.handleChange}\r\n          value={title}\r\n        />\r\n        <Form.Input\r\n          fluid\r\n          name=\"location\"\r\n          iconPosition=\"left\"\r\n          icon=\"building outline\"\r\n          placeholder={event.extendedProps.location}\r\n          type=\"text\"\r\n          onChange={this.handleChange}\r\n          value={location}\r\n        />\r\n        <TimeInput\r\n          fluid\r\n          closable\r\n          autoComplete=\"off\"\r\n          hideMobileKeyboard\r\n          name=\"endtime\"\r\n          iconPosition=\"left\"\r\n          placeholder={event.end.toUTCString()}\r\n          type=\"text\"\r\n          onChange={this.handleTimeChange}\r\n          value={endtime}\r\n        />\r\n        <Button\r\n          primary\r\n          onClick={this.handleUpdate}\r\n          fluid\r\n          loading={loader.PUT_EVENT}\r\n        >\r\n          Save\r\n        </Button>\r\n        <br />\r\n        <Button\r\n          onClick={this.handleDelete}\r\n          fluid\r\n          color=\"red\"\r\n          loading={loader.DELETE_EVENT}\r\n        >\r\n          Delete\r\n        </Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { loader } = state;\r\n  return { loader };\r\n};\r\n\r\nexport default connect(mapStateToProps, { updateEvent, deleteEvent })(EventUpdateForm);\r\n","import React, { Component } from 'react';\r\nimport { Modal } from 'semantic-ui-react';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport timeGridPlugin from '@fullcalendar/timegrid';\r\nimport { connect } from 'react-redux';\r\nimport EventPostForm from './EventPostForm';\r\nimport EventUpdateForm from './EventUpdateForm';\r\nimport ErrorList from '../ErrorList';\r\nimport { getEvents } from '../../redux/actions/event';\r\n\r\nclass TimetableEdit extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modalNew: false,\r\n      modalEdit: false,\r\n      selectedDate: null,\r\n      selectedEvent: null,\r\n    };\r\n    this.handleDateClick = this.handleDateClick.bind(this);\r\n    this.handleEventClick = this.handleEventClick.bind(this);\r\n    this.handleCloseModal = this.handleCloseModal.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.events.length) this.props.getEvents();\r\n  }\r\n\r\n  handleDateClick(arg) {\r\n    this.setState({ modalNew: true, selectedDate: arg.dateStr });\r\n  }\r\n\r\n  handleEventClick(arg) {\r\n    this.setState({ modalEdit: true, selectedEvent: arg.event });\r\n  }\r\n\r\n  handleCloseModal() {\r\n    this.setState({ modalNew: false, modalEdit: false });\r\n  }\r\n\r\n  render() {\r\n    const { modalNew, modalEdit, selectedDate, selectedEvent } = this.state;\r\n    const { errors } = this.props;\r\n    const events = this.props.events.map((e) => ({ ...e, start: e.starttime, end: e.endtime }));\r\n\r\n    return (\r\n      <>\r\n        <FullCalendar\r\n          defaultView=\"timeGridWeek\"\r\n          height=\"auto\"\r\n          events={events}\r\n          plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\r\n          dateClick={this.handleDateClick}\r\n          eventClick={this.handleEventClick}\r\n        />\r\n        <Modal\r\n          open={modalNew}\r\n          onClose={() => this.setState({ modalNew: false })}\r\n          size=\"small\"\r\n        >\r\n          <Modal.Content>\r\n            <EventPostForm date={selectedDate} closeModal={this.handleCloseModal} />\r\n            <ErrorList data={errors} />\r\n          </Modal.Content>\r\n        </Modal>\r\n        <Modal\r\n          open={modalEdit}\r\n          onClose={() => this.setState({ modalEdit: false })}\r\n          size=\"small\"\r\n        >\r\n          <Modal.Content>\r\n            <EventUpdateForm event={selectedEvent} closeModal={this.handleCloseModal} />\r\n            <ErrorList data={errors} />\r\n          </Modal.Content>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { events, errors } = state;\r\n  return { events, errors };\r\n};\r\n\r\nexport default connect(mapStateToProps, { getEvents })(TimetableEdit);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Layout from '../components/Layout';\r\nimport Calendar from '../components/schedule/Calendar';\r\nimport { authenticate } from '../redux/actions/auth';\r\n\r\nclass Schedule extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.user.id) this.props.authenticate();\r\n  }\r\n\r\n  render() {\r\n    const { loader } = this.props;\r\n\r\n    return (\r\n      <Layout protected loader={loader.GET_EVENTS}>\r\n        <Calendar />\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { user, loader } = state;\r\n\r\n  return { user, loader };\r\n};\r\n\r\nexport default connect(mapStateToProps, { authenticate })(Schedule);\r\n","/* eslint-disable indent */\r\nimport { toast } from 'react-toastify';\r\nimport { ADD_MESSAGE, SET_TIMER, DECREMENT_TIMER, START_SESSION, \r\n  CLEAR_LOADER, SET_LOADER, SET_TIMESLOTS, SET_VOTES, GET_ERRORS, ADD_VOTE, CLEAR_SESSION } from '../types';\r\n\r\n// Message\r\nconst ioMsg = (socket, message) => (dispatch) => {\r\n\r\n  if (!message) return\r\n\r\n  socket.emit('message', message);\r\n};\r\n\r\nconst ioOnMsg = (message) => (dispatch) => {\r\n  dispatch({ type: ADD_MESSAGE, payload: JSON.parse(message) });\r\n};\r\n\r\n// Start\r\nconst ioStart = (socket, id) => (dispatch) => {\r\n  dispatch({ type: SET_LOADER, payload: START_SESSION })\r\n  socket.emit('start', id);\r\n};\r\n\r\nconst ioOnStart = (data) => (dispatch) => {\r\n  \r\n  let { votingend, timeslots, votes } = data;\r\n  \r\n  if (!votingend) {\r\n    data = JSON.parse(data);\r\n    votingend = new Date(data.votingend);\r\n    timeslots = data.timeslots;\r\n    votes = data.votes;\r\n  } else {\r\n    votingend = new Date(votingend);\r\n    votingend.setHours(votingend.getHours() - 1);\r\n  }\r\n  \r\n  dispatch({ type: SET_TIMESLOTS, payload: timeslots });\r\n  dispatch({ type: SET_VOTES, payload: votes })\r\n  dispatch({ type: CLEAR_LOADER })\r\n\r\n  const now = new Date();\r\n\r\n  if (votingend < now) return;\r\n\r\n  const seconds = Math.ceil(Math.abs((now.getTime() - votingend.getTime()) / 1000));\r\n\r\n  toast(`Voting has started, you have ${seconds} seconds to vote`)\r\n\r\n  dispatch({ type: SET_TIMER, payload: seconds });\r\n\r\n  const timer = setInterval(() => dispatch({ type: DECREMENT_TIMER, payload: timer }), 1000);\r\n};\r\n\r\n// Vote\r\nconst ioVote = (socket, timeslot) => (dispatch) => {\r\n  socket.emit('vote', timeslot);\r\n}\r\n\r\nconst ioOnEnter = (props) => (dispatch) => {\r\n  toast('New participant has joined')\r\n  props.getSession(props.match.params.id);\r\n  props.getSessionEvents(props.match.params.id)\r\n}\r\n\r\n// Join\r\nconst ioOnJoin = (username, props) => (dispatch) => {\r\n  toast(`${username} has joined the room`)\r\n};\r\n\r\nconst ioOnLeave = (username) => (dispatch) => {\r\n\r\n  if (!username) return;\r\n\r\n  toast(`${username} has left the room`)\r\n};\r\n\r\n// Close\r\nconst ioClose = (socket, id) => (dispatch) => {\r\n  socket.emit('close', id);\r\n  dispatch({ type: CLEAR_SESSION })\r\n};\r\n\r\nconst ioOnClose = (props) => (dispatch) => {\r\n  toast.error(`Room was closed by the host`, { className: 'ui error message'});\r\n  props.history.push('/home')\r\n};\r\n\r\nconst ioOnVote = (data) => (dispatch) => {\r\n  const { timeslot, username } = JSON.parse(data)\r\n  \r\n  dispatch({ type: ADD_VOTE, payload: { timeslot, username }});\r\n}\r\n\r\nconst ioOnError = (data) => (dispatch) => {\r\n  toast.error(data, { className: 'ui error message' })\r\n  dispatch({ type: GET_ERRORS, payload: { data: { socket: data } } })\r\n}\r\n\r\nexport { ioMsg, ioOnMsg, ioStart, ioOnStart, ioVote, ioOnJoin, ioOnLeave, ioClose, ioOnClose, ioOnVote, ioOnError, ioOnEnter };\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Comment, Header, Form, Button } from 'semantic-ui-react';\r\nimport { ioMsg } from '../../redux/actions/socket';\r\n\r\nclass Chat extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      message: '',\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n\r\n  handleSubmit() {\r\n    this.props.ioMsg(this.props.socket, this.state.message);\r\n    this.setState({ message: ''})\r\n  }\r\n\r\n  render() {\r\n    const { message } = this.state;\r\n    const { messages } = this.props;\r\n\r\n    return (\r\n      <Comment.Group>\r\n\r\n        <Header as='h3' textAlign=\"center\" dividing>\r\n          Chat\r\n        </Header>\r\n\r\n        {messages.map((e, i) => (\r\n          <Comment key={i}>\r\n            <Comment.Avatar src='https://react.semantic-ui.com/images/avatar/small/matt.jpg' />\r\n            <Comment.Content>\r\n              <Comment.Author as=\"span\">{e.username}</Comment.Author>\r\n              <Comment.Metadata>{e.time}</Comment.Metadata>\r\n              <Comment.Text>{e.message}</Comment.Text>\r\n            </Comment.Content>\r\n          </Comment>\r\n        ))}\r\n\r\n        <Form reply>\r\n          <Form.Input\r\n            name=\"message\"\r\n            icon=\"envelope\"\r\n            iconPosition=\"left\"\r\n            placeholder=\"Enter message\"\r\n            type=\"text\"\r\n            fluid\r\n            onChange={this.handleChange}\r\n            value={message}\r\n          />\r\n          <Button\r\n            primary\r\n            onClick={this.handleSubmit}\r\n            fluid\r\n          >\r\n            Send\r\n          </Button>\r\n        </Form>\r\n\r\n      </Comment.Group>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { session: { messages } } = state;\r\n  return { messages };\r\n};\r\n\r\nexport default connect(mapStateToProps, { ioMsg })(Chat);\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Message, Button } from 'semantic-ui-react';\r\nimport { closeSession } from '../../redux/actions/session';\r\nimport { ioStart, ioClose } from '../../redux/actions/socket';\r\n\r\nfunction HostPanel(props) {\r\n  const history = useHistory();\r\n\r\n  async function handleStart() {\r\n    props.ioStart(props.socket, props.session.id);\r\n  }\r\n\r\n  async function handleClose() {\r\n    const { payload: { id } } = await props.closeSession(props.session.id);\r\n\r\n    if (id) {\r\n      props.ioClose(props.socket, props.session.id);\r\n      history.push('/home');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Message info>\r\n        <Message.Header>Code</Message.Header>\r\n        <Message.Content>Room code is <b>{props.session.code}</b></Message.Content>\r\n      </Message>\r\n      <Button\r\n        onClick={handleStart}\r\n        fluid\r\n        loading={props.loader.START_SESSION}\r\n      >\r\n          Start\r\n      </Button>\r\n      <br />\r\n      <Button\r\n        onClick={handleClose}\r\n        fluid\r\n        loading={props.loader.CLEAR_SESSION}\r\n      >\r\n          Close\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { session, loader } = state;\r\n  return { session, loader };\r\n};\r\n\r\nexport default connect(mapStateToProps, { ioStart, ioClose, closeSession })(HostPanel);\r\n","import React from 'react';\r\nimport { Button } from 'semantic-ui-react';\r\n\r\nexport default function ParticipantPanel() {\r\n  function handleLeave() {\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={handleLeave}\r\n        fluid\r\n      >\r\n          Leave\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { List } from 'semantic-ui-react';\r\n\r\nexport default class Session extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    const { title, location, hostId, starttime, endtime, duration, votingtime, participants, weekends } = this.props.session;\r\n\r\n    return (\r\n      <List divided relaxed>\r\n        <List.Item>\r\n          <List.Icon name=\"bars\" size=\"large\" verticalAlign=\"middle\" />\r\n          <List.Content>\r\n            <List.Header>{title}</List.Header>\r\n            <List.Description>Title</List.Description>\r\n          </List.Content>\r\n        </List.Item>\r\n        <List.Item>\r\n          <List.Icon name=\"building\" size=\"large\" verticalAlign=\"middle\" />\r\n          <List.Content>\r\n            <List.Header>{location}</List.Header>\r\n            <List.Description>Location</List.Description>\r\n          </List.Content>\r\n        </List.Item>\r\n        <List.Item>\r\n          <List.Icon name=\"user secret\" size=\"large\" verticalAlign=\"middle\" />\r\n          <List.Content>\r\n            <List.Header>{hostId}</List.Header>\r\n            <List.Description>Host</List.Description>\r\n          </List.Content>\r\n        </List.Item>\r\n        <List.Item>\r\n          <List.Icon name=\"hourglass start\" size=\"large\" verticalAlign=\"middle\" />\r\n          <List.Content>\r\n            <List.Header>{new Date(starttime).toUTCString()}</List.Header>\r\n            <List.Description>Start</List.Description>\r\n          </List.Content>\r\n        </List.Item>\r\n        <List.Item>\r\n          <List.Icon name=\"hourglass end\" size=\"large\" verticalAlign=\"middle\" />\r\n          <List.Content>\r\n            <List.Header>{new Date(endtime).toUTCString()}</List.Header>\r\n            <List.Description>End</List.Description>\r\n          </List.Content>\r\n        </List.Item>\r\n        <List.Item>\r\n          <List.Icon name=\"hourglass end\" size=\"large\" verticalAlign=\"middle\" />\r\n          <List.Content>\r\n            <List.Header>{duration}</List.Header>\r\n            <List.Description>Duration</List.Description>\r\n          </List.Content>\r\n        </List.Item>\r\n        <List.Item>\r\n          <List.Icon name=\"time\" size=\"large\" verticalAlign=\"middle\" />\r\n          <List.Content>\r\n            <List.Header>{votingtime}</List.Header>\r\n            <List.Description>Time to vote</List.Description>\r\n          </List.Content>\r\n        </List.Item>\r\n        <List.Item>\r\n          <List.Icon name=\"user\" size=\"large\" verticalAlign=\"middle\" />\r\n          <List.Content>\r\n            <List.Header>{typeof participants !== 'undefined' ? participants.length : ''}</List.Header>\r\n            <List.Description>Participants</List.Description>\r\n          </List.Content>\r\n        </List.Item>\r\n        <List.Item>\r\n          <List.Icon name=\"flag\" size=\"large\" verticalAlign=\"middle\" />\r\n          <List.Content>\r\n            <List.Header>{String(weekends)}</List.Header>\r\n            <List.Description>Incude weekends</List.Description>\r\n          </List.Content>\r\n        </List.Item>\r\n      </List>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport timeGridPlugin from '@fullcalendar/timegrid';\r\nimport { connect } from 'react-redux';\r\nimport { getSessionEvents } from '../../redux/actions/session';\r\nimport { ioVote } from '../../redux/actions/socket';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst colors = ['#B03060', '#FE9A76', '#FFD700', '#32CD32', '#016936', '#008080', '#0E6EB8', '#EE82EE', '#B413EC', '#FF1493', '#A52A2A', '#A0A0A0'];\r\n\r\nclass Timetable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.handleEventClick = this.handleEventClick.bind(this);\r\n  }\r\n\r\n  handleEventClick({ event }) {\r\n    \r\n    if (event.extendedProps.timeslot) return this.props.ioVote(this.props.socket, event.extendedProps.timeslot)\r\n\r\n    toast.warn(`Event from ${event.extendedProps.username} schedule`)\r\n\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.props.getSessionEvents(this.props.room);\r\n  }\r\n\r\n  render() {\r\n    let { events, session: { timeslots, duration, timer, votes } } = this.props;\r\n\r\n    timeslots = timeslots.map((timeslot) => { \r\n      const start = new Date(timeslot)\r\n      const end = new Date(timeslot)\r\n      end.setMinutes(end.getMinutes() + duration)\r\n      return { title: `Votes ${votes[timeslot] ? votes[timeslot].length : 0}`, start, end, timeslot } \r\n    })\r\n\r\n    const map = [...new Set(events.map((e) => e.userid))].reduce((acc, id, i) => acc.set(id, colors[i]), new Map());\r\n    events = events.map((e) => ({ ...e, start: e.starttime, end: e.endtime, backgroundColor: map.get(e.userid), borderColor: map.get(e.userid) }));\r\n\r\n    if (timer) events.push(...timeslots)\r\n\r\n    return (\r\n      <>\r\n        <FullCalendar\r\n          defaultView=\"timeGridWeek\"\r\n          events={events}\r\n          header={false}\r\n          height=\"auto\"\r\n          eventClick={this.handleEventClick}\r\n          plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { session, events } = state;\r\n  return { session, events };\r\n};\r\n\r\nexport default connect(mapStateToProps, { getSessionEvents, ioVote })(Timetable);\r\n","import React, { Component } from 'react';\r\nimport io from 'socket.io-client';\r\nimport { baseURL } from '../utils/axios';\r\nimport { useHistory } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport { Grid, GridColumn } from 'semantic-ui-react';\r\nimport { authenticate } from '../redux/actions/auth';\r\nimport { getSession, getSessionEvents } from '../redux/actions/session';\r\nimport { ioOnMsg, ioOnJoin, ioOnLeave, ioClose, ioOnStart, ioOnVote, ioOnError, ioOnClose, ioOnEnter } from '../redux/actions/socket';\r\nimport Layout from '../components/Layout';\r\nimport Chat from '../components/room/Chat';\r\nimport HostPanel from '../components/room/HostPanel';\r\nimport ParticipantPanel from '../components/room/ParticipantPanel';\r\nimport RoomInfo from '../components/room/RoomInfo';\r\nimport Calendar from '../components/room/Calendar';\r\n\r\nclass RoomComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    const socket = io(baseURL);\r\n\r\n    socket.on('message', (data) => this.props.ioOnMsg(data));\r\n    socket.on('join', (data) => this.props.ioOnJoin(data));\r\n    socket.on('leave', (data) => this.props.ioOnLeave(data));\r\n    socket.on('start', (data) => this.props.ioOnStart(data));\r\n    socket.on('vote', (data) => this.props.ioOnVote(data));\r\n    socket.on('error', (data) => this.props.ioOnError(data));\r\n    socket.on('close', () => this.props.ioOnClose(props));\r\n    socket.on('enter', () => this.props.ioOnEnter(props));\r\n\r\n    this.state = {\r\n      socket,\r\n      panel: (<></>),\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { socket } = this.state;\r\n\r\n    if (!this.props.user.id) await this.props.authenticate();\r\n    socket.emit('join', this.props.match.params.id, this.props.user.username);\r\n\r\n    if (!this.props.session.id) {\r\n      const { payload: { votingend, votes, timeslots, status } } = await this.props.getSession(this.props.match.params.id);\r\n      if (votingend) this.props.ioOnStart({ votingend, timeslots, votes});\r\n      if (status === 400 || status === 404) return;\r\n    }\r\n    const { user, session } = this.props;\r\n    this.setState({ panel: user.id === session.hostId ? <HostPanel socket={socket} /> : <ParticipantPanel socket={socket} /> });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setState({ socket: null, panel: null })\r\n  }\r\n\r\n  render() {\r\n    const { socket, panel } = this.state;\r\n    const { session, errors, loader, match } = this.props;\r\n\r\n    return (\r\n      <Layout protected error={errors.id} loader={loader.AUTH || loader.GET_SESSION}>\r\n        <Grid columns={2} stackable>\r\n          <Grid.Column width={6}>\r\n            <RoomInfo session={session} />\r\n            {panel}\r\n            <Chat room={match.params.id} socket={socket} />\r\n          </Grid.Column>\r\n          <GridColumn width={10}>\r\n            <Calendar socket={socket} room={match.params.id} />\r\n            {session.timer}\r\n          </GridColumn>\r\n        </Grid>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nfunction Room(props) {\r\n\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <RoomComponent history={history} {...props} />\r\n  )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { user, session, loader, errors } = state;\r\n  return { user, session, loader, errors };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  authenticate, getSession, getSessionEvents, ioOnMsg, ioOnJoin, ioOnLeave, ioClose, ioOnStart, ioOnVote, ioOnError, ioOnClose, ioOnEnter\r\n})(Room);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\n\r\nimport App from './App';\r\n\r\nconst rootElement = document.getElementById('root');\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  rootElement,\r\n);\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport Home from './routes/Home';\r\nimport SignUp from './routes/SignUp';\r\nimport SignIn from './routes/SignIn';\r\nimport Index from './routes/Index';\r\nimport Schedule from './routes/Schedule';\r\nimport Room from './routes/Room';\r\nimport { axios } from './utils/axios';\r\nimport './index.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function App() {\r\n  axios.defaults.headers.common.authorization = localStorage.getItem('jwt');\r\n  toast.configure({\r\n    position: 'bottom-center',\r\n    toastClassName: 'ui info message',\r\n    hideProgressBar: true,\r\n    draggable: false,\r\n    newestOnTop: true,\r\n    autoClose: 5000,\r\n  });\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path=\"/rooms/:id\" component={Room} />\r\n        <Route path=\"/schedule\" component={Schedule} />\r\n        <Route path=\"/sign-up\" component={SignUp} />\r\n        <Route path=\"/sign-in\" component={SignIn} />\r\n        <Route path=\"/home\" component={Home} />\r\n        <Route path=\"/\" component={Index} />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n"],"sourceRoot":""}